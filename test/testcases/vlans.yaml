---
defaults:
  module: vlans

testcases:

  - name: Create a list of vlans
    changed: yes
    arguments:
      vlans:
        - vlanid: 20
          name: test20
        - vlanid: 40
          name: test40
        - vlanid: 60
          name: test60
        - vlanid: 80
          name: test80
    setup: |
      no vlan 20
      no vlan 40
      no vlan 60
      no vlan 80
    present: |
      vlan 20
         name test20
         state active
      vlan 40
         name test40
         state active
      vlan 60
         name test60
         state active
      vlan 80
         name test80
         state active

  - name: Create an existing vlan
    changed: false
    arguments:
      vlans:
        - vlanid: 35
          name: vlan35exists
    setup: |
      no vlan 35
      vlan 35
      name vlan35exists
    present: |
      vlan 35
         name vlan35exists
         state active
